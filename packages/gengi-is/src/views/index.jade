extends shared/_layout

block main
  gengi(state="{{state}}" view="{{app.view}}")
    header(v-on="click:showView('list')"): inner
      h1.title(v-text="app.title")
      div.back
        include ../img/svg-arrow-left.svg
      div.edit
        include ../img/svg-dots.svg
      div.current
        span Gengi.is/{{app.currentCurrency}}{{app.amountCurr | number}}
      hgroup.calc
        h1(v-text="app.currentCurrency")
        h4(v-text="currencies.list.hasOwnProperty(app.currentCurrency) ? currencies.list[app.currentCurrency].name : ''")
      hgroup.search
        h1 Velja myntir
      hgroup.about
        h1 Uppl√Ωsingar
        h4 um Gengi.is


    message(v-if="message")
      h4(v-text="messages[message]")

    currency-list(v-show="app.view === 'list'")
      template(v-repeat="currency: currencyList")
        currency(v-if="currencies.list.hasOwnProperty(currency)" v-on="click:showView('calc', {currency: currency})" v-attr="symbol:currencies.list[currency].code, index:$index" v-class="highlighted:app.highlightedCurrency == $index")
          curr-code(v-text="currencies.list[currency].code")
          curr-name(v-text="currencies.list[currency].name")
          curr-rate(v-text="currencies.list[currency].rate")

      links(v-on="click: showView('search', {term: ''})")
        curr-text +/- Velja myntir
      links(v-on="click: showView('about')")
        curr-text Um Gengi.is


    include partials/_search

    include partials/_calculator

    include partials/_about
