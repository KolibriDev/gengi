extends shared/_layout

block content
  gengi(state="{{state}}" view="{{app.view}}")
    topbar
      h1(v-text="app.title" v-on="click:showList()")

    currency-list(v-if="app.view === 'list'")
      template(v-repeat="currency: currencyList")
        currency(v-if="currencies.list.hasOwnProperty(currency)" v-on="click:showCalc(currency)")
          long-name {{currencies.list[currency].name}}
          short-name  ({{currencies.list[currency].code}})
          br
          value {{currencies.list[currency].rate}}
          hr
      hr
      search
        input(v-model="search.term" v-on="keyup:performSearch | key 13")
        br
        results(v-repeat="result: search.results")
          currency(v-on="click:addToList(result)" v-if="currencyList.indexOf(result.code) === -1")
            long-name {{result.name}}
            short-name  ({{result.code}})
            br
            value {{result.rate}}
            hr

    calculator(v-if="app.view === 'calc'")
      h1 Calculator

      | {{app.currentCurrency}}:
      input(v-model="app.amountCurr" )
      br
      | ISK:
      input(v-model="app.amountISK" )
