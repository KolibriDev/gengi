extends shared/_layout

block content
  gengi(state="{{state}}" view="{{app.view}}")
    topbar
      h1(v-text="app.title" v-on="click:showList()")

    message(v-if="message")
      h4(v-text="messages[message]")

    currency-list(v-if="app.view === 'list'")
      template(v-repeat="currency: currencyList")
        currency(v-if="currencies.list.hasOwnProperty(currency)" v-on="click:showCalc(currency)")
          long-name(v-text="currencies.list[currency].name")
          short-name(v-text="currencies.list[currency].code")
          br
          value(v-text="currencies.list[currency].rate")
          hr
      hr
      search
        input(v-model="search.term" v-on="keyup:performSearch | key 13")
        br
        results(v-repeat="result: search.results")
          currency(v-on="click:addToList(result)" v-if="currencyList.indexOf(result.code) === -1")
            long-name(v-text="result.name")
            short-name(v-text="result.code")
            br
            value(v-text="result.rate")
            hr

    calculator(v-if="app.view === 'calc'")
      h1 Calculator

      span(v-text="app.currentCurrency")
      input(v-model="app.amountCurr" )
      br
      | ISK:
      input(v-model="app.amountISK" )
