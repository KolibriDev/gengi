extends shared/_layout

block main
  gengi(state="{{state}}" view="{{app.view}}")
    header(v-on="click:showView('list')"): inner
      h1.title(v-text="app.title")
      hgroup.calc
        h1(v-text="app.currentCurrency")
        h4(v-text="currencies.list.hasOwnProperty(app.currentCurrency) ? currencies.list[app.currentCurrency].name : ''")
      hgroup.search
        h1 Velja myntir
      hgroup.about
        h1 Upplýsingar
        h4 um Gengi.is


    message(v-if="message")
      h4(v-text="messages[message]")

    currency-list(v-show="app.view === 'list'")
      template(v-repeat="currency: currencyList")
        currency(v-if="currencies.list.hasOwnProperty(currency)" v-on="click:showView('calc', {currency: currency})" v-attr="symbol:currencies.list[currency].code")
          curr-code(v-text="currencies.list[currency].code")
          curr-name(v-text="currencies.list[currency].name")
          curr-rate(v-text="currencies.list[currency].rate")

      links(v-on="click: showView('search', {term: ''})")
        curr-text +/- Velja myntir
      links(v-on="click: showView('about')")
        curr-text Um Gengi.is

    search(v-show="app.view === 'search'")
      search-form(v-on="click:focusSearchInput")
        curr-input
          input(id="search" v-model="search.term" v-on="keyup:performSearch" placeholder="…")
      results
        text(v-if="!search.term && search.count <= 0")
          curr-text Leitaðu að mynt eða landi
        text(v-if="search.term && search.done && search.count <= 0")
          curr-text Ekkert fannst fyrir '{{search.term}}'
        template(v-repeat="result: search.results")
          search-item(v-on="click:toggleInList(result)" v-class="selected: currencyList.indexOf(result.code) !== -1" v-attr="symbol:result.code")
            curr-code(v-text="result.code")
            curr-name(v-text="result.name")
            curr-rate(v-text="result.rate")

    calculator(v-show="app.view === 'calc'")
      currency(v-attr="symbol:app.currentCurrency")
        curr-input
          input(id="amountCurr" v-model="app.amountCurr" placeholder="1" v-on="keyup:calculate")
      currency(symbol="ISK")
        curr-input
          input(id="amountISK" v-model="app.amountISK" v-on="keyup:calculate")

    about(v-show="app.view === 'about'")
      inner
        h1 WIP
        p Gengisupplýsingar á svipstundu

        p Gengi.is er gengisreiknivél fyrir íslenska krónu þar sem þú getur nálgast nýjustu upplýsingar um gengi gjaldmiðla á fljótlegan og aðgengilegan hátt.

        p Vefurinn er sérstaklega hugsaður með hraða og snjallsíma í huga og er hannaður og framleiddur af vefstúdíóinu Form5.


